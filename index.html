<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday</title>
    <link rel="icon" type="image/png" href="./img/CILKGax.png" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap");

      :root{
        --pink:#ff4f88;
        --white:#ffffff;
      }

      /* N·ªÅn + font chung */
      body{
        margin:0; padding:0;
        font-family:"Poppins",sans-serif;
        background-image:url("./img/background.png");
        background-repeat:no-repeat;
        background-size:cover;
        background-position:center;
        text-align:center;
        overflow:hidden; /* ƒë·ªÉ hi·ªáu ·ª©ng bay g·ªçn trong khung */
      }

      /* Menu */
      .buttons{
        display:flex;
        justify-content:center;
        gap:2rem;
        padding:2rem 1rem 1rem;
      }
      .btn{
        display:inline-block;
        padding:12px 32px;
        border-radius:25px;
        color:#fff;
        text-decoration:none;
        font-weight:700;
        transition:.25s transform ease, .25s filter ease;
        background-size:200% auto;
        box-shadow:0 0 16px rgba(0,0,0,.12);
      }
      .btn:hover{ transform:translateY(-2px); filter:brightness(1.05); }
      .btn-bir{ background-image:linear-gradient(to right,#314755,#26a0da); }
      .btn-timeline{ background-image:linear-gradient(to right,#da22ff,#9733ee); }
      .btn-gallery{ background-image:linear-gradient(to right,#02aab0,#00cdac); }

      /* B·ªë c·ª•c ch·ªØ tr√°i ‚Äì h√¨nh ph·∫£i */
      .content{
        display:flex;
        justify-content:center;
        align-items:center;
        gap:80px;
        flex-wrap:wrap;
        margin-top:30px;
        padding:0 16px;
      }
      .text-section{ text-align:right; max-width:460px; }

      /* Happy Birthday + d√≤ng ch·ªØ nh·ªè: H·ªíNG ƒê·∫¨M + ƒê·ªîI M√ÄU CH·∫†Y + NH·∫¢Y S√ìNG */
      .title,
      .subtitle{
        /* gradient ƒë·ªïi m√†u ch·∫°y ngang */
        background: linear-gradient(90deg, #ff2b6d, #ff7fb0, #ffd1e8, #ff2b6d);
        background-size: 300% 100%;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;

        /* b√≥ng ƒë·ªÉ d·ªÖ ƒë·ªçc tr√™n n·ªÅn s√°ng */
        text-shadow: 0 0 14px rgba(255,255,255,0.65);

        /* hi·ªáu ·ª©ng ch·∫°y m√†u + nh·∫£y s√≥ng */
        animation:
          hueSlide 6s linear infinite,
          waveJump 2.8s ease-in-out infinite;
      }
      .title{
        font-size:64px; font-weight:900; margin:0;
      }
      .subtitle{
        font-size:24px; font-weight:800; margin:18px auto 10px;
      }

      @keyframes hueSlide{
        0%   { background-position:   0% 50%; }
        50%  { background-position: 100% 50%; }
        100% { background-position:   0% 50%; }
      }
      @keyframes waveJump{
        0%{   transform:translateY(0); }
        25%{  transform:translateY(-18px); }
        50%{  transform:translateY(0); }
        75%{  transform:translateY(12px); }
        100%{ transform:translateY(0); }
      }

      /* ·∫¢nh tr√≤n b√™n ph·∫£i */
      .img-section{ display:flex; justify-content:center; align-items:center; }
      .cover{
        width:250px; height:250px; border-radius:50%;
        object-fit:cover; border:6px solid #fff;
        box-shadow:0 0 25px rgba(0,0,0,0.35);
      }

      /* L·ªùi ch√∫c bay (TR·∫ÆNG ƒê·∫¨M, KH√îNG ƒë·ªïi m√†u) */
      .wishes{
        position:fixed; bottom:100px; left:0; width:100%;
        pointer-events:none; overflow:visible; z-index:10;
      }
      .wish{
        position:absolute; bottom:0;
        font-size:24px; font-weight:800;
        color:#ffffff; /* tr·∫Øng ƒë·∫≠m */
        text-shadow:
          0 0 10px rgba(0,0,0,.85),   /* vi·ªÅn ƒëen m·ªÅm gi√∫p n·ªïi tr√™n n·ªÅn s√°ng */
          0 0 18px rgba(255,255,255,.9);
        opacity:0;
        animation: floatUp 4s ease-out forwards; /* KH√îNG colorShift */
      }
      @keyframes floatUp{
        0%   { transform:translateY(0) scale(1);   opacity:0; }
        10%  { opacity:1; }
        70%  { transform:translateY(-120px) scale(1.05); opacity:1; }
        100% { transform:translateY(-200px) scale(.9);  opacity:0; }
      }

      /* N√∫t ph√°t nh·∫°c */
      #play-btn{
        display:none;
        position:fixed; right:20px; bottom:20px;
        background:var(--pink);
        color:#fff; border:none;
        padding:12px 18px; border-radius:30px;
        font-size:16px; font-weight:800;
        cursor:pointer;
        box-shadow:0 0 12px rgba(0,0,0,.3);
        z-index:9999;
      }
      #play-btn:hover{ background:#ff2b6d; }

      /* Responsive */
      @media (max-width: 768px){
        .content{ flex-direction:column; text-align:center; gap:20px; }
        .text-section{ text-align:center; }
        .title{ font-size:48px; }
        .subtitle{ font-size:20px; }
      }
    </style>
  </head>

  <body>
    <!-- Menu -->
    <div class="buttons">
      <a href="index.html" class="btn btn-bir">Sinh nh·∫≠t</a>
      <a href="timeline.html" class="btn btn-timeline">D√≤ng th·ªùi gian</a>
    </div>

    <!-- Ch·ªØ tr√°i / H√¨nh ph·∫£i -->
    <div class="content">
      <div class="text-section">
        <h1 class="title">üéâ Happy Birthday üéâ</h1>
      </div>
      <div class="img-section">
        <img src="./img/MyAvatar.jpg" alt="Avatar" class="cover" />
      </div>
    </div>

    <!-- D√≤ng ch·ªØ nh·ªè ·ªü gi·ªØa -->
    <p class="subtitle">Ch√∫c Th·∫£o Qu·ª≥nh m·ªôt ng√†y th·∫≠t ƒë·∫∑c bi·ªát v√† tr√†n ƒë·∫ßy ni·ªÅm vui üíñ</p>

    <!-- Audio: KH√îNG loop ƒë·ªÉ h·∫øt b√†i th√¨ d·ª´ng & hi·ªán n√∫t -->
    <audio id="player" autoplay muted preload="auto">
      <source src="./music/music.mp3" type="audio/mp3" />
    </audio>

    <!-- Khu v·ª±c l·ªùi ch√∫c bay -->
    <div class="wishes"></div>

    <!-- N√∫t ph√°t nh·∫°c -->
    <button id="play-btn">üéµ Ph√°t nh·∫°c</button>

    <script>
  const player = document.getElementById('player');
  const playBtn = document.getElementById('play-btn');
  const wishesContainer = document.querySelector('.wishes');

  // üå∏ DANH S√ÅCH L·ªúI CH√öC (m√†u tr·∫Øng ƒë·∫≠m, bay nh·∫π)
  const messages = [
    "üéÇ Ch√∫c b·∫°n tu·ªïi m·ªõi th·∫≠t h·∫°nh ph√∫c!",
    "üíñ Lu√¥n xinh ƒë·∫πp v√† r·∫°ng r·ª° nh√©!",
    "üå∏ M·ªçi ∆∞·ªõc m∆° ƒë·ªÅu th√†nh hi·ªán th·ª±c!",
    "üéÅ M·ªôt nƒÉm ƒë·∫ßy ni·ªÅm vui v√† b·∫•t ng·ªù!",
    "‚ú® Ch√∫c b·∫°n lu√¥n c∆∞·ªùi th·∫≠t t∆∞∆°i!",
    "üé∂ H√£y ƒë·ªÉ √¢m nh·∫°c c·ªßa ni·ªÅm vui vang l√™n trong tim b·∫°n!",
    "üåà M·ªói ng√†y ƒë·ªÅu l√† m√≥n qu√†, h√£y t·∫≠n h∆∞·ªüng th·∫≠t tr·ªçn v·∫πn nh√©!",
    "üïØÔ∏è Ch√∫c cho √°nh n·∫øn sinh nh·∫≠t th·∫Øp s√°ng c·∫£ m·ªôt nƒÉm may m·∫Øn!",
    "üíê Ch√∫c b·∫°n lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng v√† tr√¢n tr·ªçng!",
    "üåª H√¥m nay l√† c·ªßa b·∫°n ‚Äì h√£y m·ªâm c∆∞·ªùi th·∫≠t t∆∞∆°i nh√©!",
    "üíå Ch√∫c b·∫°n lu√¥n ƒë·ªß m·∫°nh m·∫Ω ƒë·ªÉ theo ƒëu·ªïi gi·∫•c m∆° c·ªßa m√¨nh!",
    "‚òÄÔ∏è Mong r·∫±ng b√¨nh minh m·ªói ng√†y ƒë·ªÅu mang ƒë·∫øn ƒëi·ªÅu t·ªët ƒë·∫πp!",
    "üçÄ Tu·ªïi m·ªõi ‚Äì kh·ªüi ƒë·∫ßu m·ªõi, may m·∫Øn nh√¢n ƒë√¥i!",
    "üå∑ H√£y s·ªëng tr·ªçn t·ª´ng kho·∫£nh kh·∫Øc v·ªõi ni·ªÅm vui v√† l√≤ng bi·∫øt ∆°n!",
    "üåü M·ªôt nƒÉm tuy·ªát v·ªùi ƒëang ch·ªù ƒë√≥n b·∫°n ph√≠a tr∆∞·ªõc!",
    "üßÅ Ch√∫c b·∫°n tu·ªïi m·ªõi th√™m ng·ªçt ng√†o nh∆∞ chi·∫øc b√°nh kem n√†y!",
    "üéä M·ªói nƒÉm th√™m tu·ªïi l√† th√™m y√™u th∆∞∆°ng v√† tr∆∞·ªüng th√†nh!",
    "üí´ H√£y lu√¥n tin r·∫±ng m√¨nh x·ª©ng ƒë√°ng v·ªõi ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t!",
    "üå∏ C·∫£m ∆°n v√¨ ƒë√£ ƒë·∫øn th·∫ø gi·ªõi n√†y v√† l√†m cho n√≥ t∆∞∆°i ƒë·∫πp h∆°n!",
    "üéá Mong h√¥m nay l√† ng√†y kh·ªüi ƒë·∫ßu c·ªßa m·ªçi ƒëi·ªÅu may m·∫Øn!",
    "ü•∞ Tu·ªïi m·ªõi ‚Äì th·∫≠t nhi·ªÅu y√™u th∆∞∆°ng, th·∫≠t nhi·ªÅu n·ª• c∆∞·ªùi nh√©!",
    "üíé B·∫°n l√† ng∆∞·ªùi ƒë·∫∑c bi·ªát, ƒë·ª´ng bao gi·ªù qu√™n ƒëi·ªÅu ƒë√≥!",
    "ü¶ã Ch√∫c b·∫°n bay th·∫≠t xa, theo ƒëu·ªïi nh·ªØng ∆∞·ªõc m∆° r·ª±c r·ª°!",
    "üéâ C√πng n√¢ng ly cho tu·ªïi m·ªõi tr√†n ƒë·∫ßy hy v·ªçng v√† ni·ªÅm vui!"
  ];

  let wishesTimer = null;
  function startWishes() {
    if (wishesTimer) return;
    wishesTimer = setInterval(() => {
      const msg = document.createElement('div');
      msg.className = 'wish';
      msg.textContent = messages[Math.floor(Math.random() * messages.length)];
      msg.style.left = (Math.random() * 80 + 10) + '%';
      wishesContainer.appendChild(msg);
      setTimeout(() => msg.remove(), 4000);
    }, 1800);
  }

  function stopWishes() {
    if (wishesTimer) {
      clearInterval(wishesTimer);
      wishesTimer = null;
    }
  }

  // 1) Ph√°t nh·∫°c im l·∫∑ng tr∆∞·ªõc
  player.muted = true;
  player.play().catch(() => {});

  // 2) Sau 3s th·ª≠ b·∫≠t ti·∫øng. N·∫øu b·ªã ch·∫∑n -> hi·ªán n√∫t
  setTimeout(async () => {
    player.muted = false;
    try {
      await player.play();
      playBtn.style.display = 'none';
    } catch (e) {
      playBtn.style.display = 'block';
    }
  }, 3000);

  // 3) N·∫øu 4s r·ªìi v·∫´n ch∆∞a ch·∫°y -> hi·ªán n√∫t
  setTimeout(() => {
    if (player.paused) playBtn.style.display = 'block';
  }, 4000);

  // 4) ƒêi·ªÅu khi·ªÉn l·ªùi ch√∫c & n√∫t ph√°t
  player.addEventListener('play', () => {
    playBtn.style.display = 'none';
    startWishes();
  });
  player.addEventListener('pause', () => {
    if (!player.ended) playBtn.style.display = 'block';
    stopWishes();
  });
  player.addEventListener('ended', () => {
    playBtn.style.display = 'block';
    stopWishes();
  });
  player.addEventListener('error', () => {
    console.error('Kh√¥ng t·∫£i ƒë∆∞·ª£c file nh·∫°c. Ki·ªÉm tra ./music/music.mp3');
    playBtn.style.display = 'block';
  });

  // 5) N√∫t ph√°t nh·∫°c
  playBtn.addEventListener('click', async () => {
    try {
      player.currentTime = 0;
      player.muted = false;
      await player.play();
      playBtn.style.display = 'none';
    } catch (e) {
      console.log('Kh√¥ng th·ªÉ ph√°t nh·∫°c:', e);
    }
  });
</script>

  </body>
</html>
